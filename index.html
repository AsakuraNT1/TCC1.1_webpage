<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Controle remoto de Ventilador - TCC Jose Miranda Netto #2</title>
    <style>
      form {
        width: 430px;
      }

      div {
        margin-bottom: 20px;
      }

      label {
        display: inline-block;
        width: 240px;
        text-align: left;
        padding-right: 10px;
      }

      button, input {
        float: left;
      }
    </style>
  </head>
  <body>

    <h1>Controle remoto de Ventilador - TCC Jose Miranda Netto</h1>

    <button id="btnliga" style="padding: 16px; background-color: darkblue; color:aliceblue; border-radius: 4px;font-size: 12px">Ligar</button>

    <button id="btndesliga" style="padding: 16px; background-color: darkblue; color:aliceblue; border-radius: 4px;font-size: 12px">Desligar</button>

<div class="slidecontainer">
  <input type="range" min="0" max="100" value="100" class="slider" id="velocidade">
  <p>PotÃªncia: <span id="indicador_potencia"></span>%</p>
</div>
    
<button id="enviavelocidade" style="padding: 16px; background-color: darkblue; color:aliceblue; border-radius: 4px;font-size: 12px">Enviar</button>    
    
    
    
<script>
var slider = document.getElementById("velocidade");
var output = document.getElementById("indicador_potencia");
var urlstring="";
var botaov = document.getElementById("enviavelocidade");  
var botaol = document.getElementById("btnliga");  
var botaod = document.getElementById("btndesliga");  
var newwindow;
  
output.innerHTML = slider.value;

slider.oninput = function() {
  output.innerHTML = this.value;
  
  var speed = Math.round(this.value*88.5 + 150);
  
  urlstring = "http://tccjosemiranda2.ddns.net/speed=" + speed;
  
}

botaol.onclick = function() {
  newwindow = window.open("http://tccjosemiranda2.ddns.net/status=ON")
  setTimeout(() => {  newwindow.close(); }, 4000);
}
  
  
botaod.onclick = function() {
  newwindow = window.open("http://tccjosemiranda2.ddns.net/status=OFF")
  setTimeout(() => {  newwindow.close(); }, 4000);
}
  
  
botaov.onclick = function() {
  newwindow = window.open(urlstring)
  setTimeout(() => {  newwindow.close(); }, 4000);
}
  
        
</script>
    

    

  </body>
</html>
